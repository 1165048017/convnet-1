<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>ConvNet: Layer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ConvNet
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A GPU-based C++ implementation of Convolutional Neural Nets</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classLayer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Layer Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>The base class for all layers.  
 <a href="classLayer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="layer_8h_source.html">layer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Layer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classLayer.png" usemap="#Layer_map" alt=""/>
  <map id="Layer_map" name="Layer_map">
<area href="classLinearLayer.html" title="Implements a layer with a linear activation function. " alt="LinearLayer" shape="rect" coords="0,56,110,80"/>
<area href="classLogisticLayer.html" title="Implements a layer with a logistic activation function. " alt="LogisticLayer" shape="rect" coords="120,56,230,80"/>
<area href="classSoftmaxLayer.html" title="Implements a layer with a softmax activation function. " alt="SoftmaxLayer" shape="rect" coords="240,56,350,80"/>
<area href="classReLULayer.html" title="Implements a layer with a rectified linear activation function. " alt="ReLULayer" shape="rect" coords="0,112,110,136"/>
<area href="classSoftmaxDistLayer.html" title="Implements a layer with a softmax activation function. " alt="SoftmaxDistLayer" shape="rect" coords="240,112,350,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3f1aa6409f9dccd2a91c57ae011e52c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a3f1aa6409f9dccd2a91c57ae011e52c9">Layer</a> (const config::Layer &amp;config)</td></tr>
<tr class="memdesc:a3f1aa6409f9dccd2a91c57ae011e52c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiate a layer from config.  <a href="#a3f1aa6409f9dccd2a91c57ae011e52c9">More...</a><br /></td></tr>
<tr class="separator:a3f1aa6409f9dccd2a91c57ae011e52c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6374c4746482820b10b2c00a68c98f3d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a6374c4746482820b10b2c00a68c98f3d">AllocateMemory</a> (int imgsize, int batch_size)</td></tr>
<tr class="memdesc:a6374c4746482820b10b2c00a68c98f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate memory for storing the state and derivative at this layer.  <a href="#a6374c4746482820b10b2c00a68c98f3d">More...</a><br /></td></tr>
<tr class="separator:a6374c4746482820b10b2c00a68c98f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da18813ed5e0ac4e5111de5a9256a0f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a0da18813ed5e0ac4e5111de5a9256a0f">ApplyActivation</a> (bool train)=0</td></tr>
<tr class="memdesc:a0da18813ed5e0ac4e5111de5a9256a0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the activation function.  <a href="#a0da18813ed5e0ac4e5111de5a9256a0f">More...</a><br /></td></tr>
<tr class="separator:a0da18813ed5e0ac4e5111de5a9256a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad160cbfae07605b2c908e86cc33444a1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#ad160cbfae07605b2c908e86cc33444a1">ApplyDerivativeOfActivation</a> ()=0</td></tr>
<tr class="memdesc:ad160cbfae07605b2c908e86cc33444a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the derivative of the activation.  <a href="#ad160cbfae07605b2c908e86cc33444a1">More...</a><br /></td></tr>
<tr class="separator:ad160cbfae07605b2c908e86cc33444a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe3aeb2e8c83dca546253e9c87f950d7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#abe3aeb2e8c83dca546253e9c87f950d7">ComputeDeriv</a> ()=0</td></tr>
<tr class="memdesc:abe3aeb2e8c83dca546253e9c87f950d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute derivative of loss function.  <a href="#abe3aeb2e8c83dca546253e9c87f950d7">More...</a><br /></td></tr>
<tr class="separator:abe3aeb2e8c83dca546253e9c87f950d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e0af00ad9c9c31e4670845be898e22"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#ae4e0af00ad9c9c31e4670845be898e22">GetLoss</a> ()=0</td></tr>
<tr class="memdesc:ae4e0af00ad9c9c31e4670845be898e22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the value of the loss function that is displayed during training.  <a href="#ae4e0af00ad9c9c31e4670845be898e22">More...</a><br /></td></tr>
<tr class="separator:ae4e0af00ad9c9c31e4670845be898e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f832bc6eea199499a0f03b4a27a03c"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#ae0f832bc6eea199499a0f03b4a27a03c">GetLoss2</a> ()</td></tr>
<tr class="memdesc:ae0f832bc6eea199499a0f03b4a27a03c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the value of the actual loss function.  <a href="#ae0f832bc6eea199499a0f03b4a27a03c">More...</a><br /></td></tr>
<tr class="separator:ae0f832bc6eea199499a0f03b4a27a03c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb724a0ce50186c378a4a20c5d0f8629"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#acb724a0ce50186c378a4a20c5d0f8629">ApplyDropout</a> (bool train)</td></tr>
<tr class="memdesc:acb724a0ce50186c378a4a20c5d0f8629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply dropout to this layer.  <a href="#acb724a0ce50186c378a4a20c5d0f8629">More...</a><br /></td></tr>
<tr class="separator:acb724a0ce50186c378a4a20c5d0f8629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7504a69d40d83850418bac12d8908c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#aa7504a69d40d83850418bac12d8908c9">ApplyDerivativeofDropout</a> ()</td></tr>
<tr class="memdesc:aa7504a69d40d83850418bac12d8908c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply derivative of dropout.  <a href="#aa7504a69d40d83850418bac12d8908c9">More...</a><br /></td></tr>
<tr class="separator:aa7504a69d40d83850418bac12d8908c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0c7b2b2cd8f4b2d29425774e8059f9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e0c7b2b2cd8f4b2d29425774e8059f9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AccessStateBegin</b> ()</td></tr>
<tr class="separator:a7e0c7b2b2cd8f4b2d29425774e8059f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522e0077df62d9f0e356ae95896a290d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a522e0077df62d9f0e356ae95896a290d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AccessStateEnd</b> ()</td></tr>
<tr class="separator:a522e0077df62d9f0e356ae95896a290d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbe02800a0ddbfd4d960a7256e2927a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7fbe02800a0ddbfd4d960a7256e2927a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AccessDerivBegin</b> ()</td></tr>
<tr class="separator:a7fbe02800a0ddbfd4d960a7256e2927a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af160cabb61ad811c1a0a94fde4446658"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af160cabb61ad811c1a0a94fde4446658"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AccessDerivEnd</b> ()</td></tr>
<tr class="separator:af160cabb61ad811c1a0a94fde4446658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2666b65b7f87761eda1c31f9a8205a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEdge.html">Edge</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a9f2666b65b7f87761eda1c31f9a8205a">GetIncomingEdge</a> (int index)</td></tr>
<tr class="memdesc:a9f2666b65b7f87761eda1c31f9a8205a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the incoming edge by index.  <a href="#a9f2666b65b7f87761eda1c31f9a8205a">More...</a><br /></td></tr>
<tr class="separator:a9f2666b65b7f87761eda1c31f9a8205a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56bf8224bdb28fcfe2ded6984513a54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#aa56bf8224bdb28fcfe2ded6984513a54">GetState</a> ()</td></tr>
<tr class="memdesc:aa56bf8224bdb28fcfe2ded6984513a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the state of the layer.  <a href="#aa56bf8224bdb28fcfe2ded6984513a54">More...</a><br /></td></tr>
<tr class="separator:aa56bf8224bdb28fcfe2ded6984513a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cedc2d2f67df3e7011adeb8eeed7516"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a2cedc2d2f67df3e7011adeb8eeed7516">GetDeriv</a> ()</td></tr>
<tr class="memdesc:a2cedc2d2f67df3e7011adeb8eeed7516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the deriv at this layer.  <a href="#a2cedc2d2f67df3e7011adeb8eeed7516">More...</a><br /></td></tr>
<tr class="separator:a2cedc2d2f67df3e7011adeb8eeed7516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c33d8784bf6a213cb8dbe9269cef213"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a2c33d8784bf6a213cb8dbe9269cef213">GetData</a> ()</td></tr>
<tr class="memdesc:a2c33d8784bf6a213cb8dbe9269cef213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to the data at this layer.  <a href="#a2c33d8784bf6a213cb8dbe9269cef213">More...</a><br /></td></tr>
<tr class="separator:a2c33d8784bf6a213cb8dbe9269cef213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4755659498ee98580ec59fd9fa5e3a32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4755659498ee98580ec59fd9fa5e3a32"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Display</b> ()</td></tr>
<tr class="separator:a4755659498ee98580ec59fd9fa5e3a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab536ac5f0cf121ac62fabe67675ad5e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab536ac5f0cf121ac62fabe67675ad5e7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Display</b> (int image_id)</td></tr>
<tr class="separator:ab536ac5f0cf121ac62fabe67675ad5e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02dafb94dcfc454e1bc7771df7c17e63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a02dafb94dcfc454e1bc7771df7c17e63">AddIncoming</a> (<a class="el" href="classEdge.html">Edge</a> *e)</td></tr>
<tr class="memdesc:a02dafb94dcfc454e1bc7771df7c17e63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an incoming edge to this layer.  <a href="#a02dafb94dcfc454e1bc7771df7c17e63">More...</a><br /></td></tr>
<tr class="separator:a02dafb94dcfc454e1bc7771df7c17e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621f3815368d1146eb2cd1869e129521"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a621f3815368d1146eb2cd1869e129521">AddOutgoing</a> (<a class="el" href="classEdge.html">Edge</a> *e)</td></tr>
<tr class="memdesc:a621f3815368d1146eb2cd1869e129521"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an outgoing edge from this layer.  <a href="#a621f3815368d1146eb2cd1869e129521">More...</a><br /></td></tr>
<tr class="separator:a621f3815368d1146eb2cd1869e129521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac6a0905fe01cd02b063972c4b74604"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ac6a0905fe01cd02b063972c4b74604"></a>
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetName</b> () const </td></tr>
<tr class="separator:a2ac6a0905fe01cd02b063972c4b74604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9457b9b0872c932dbff31a2b46b6ff8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad9457b9b0872c932dbff31a2b46b6ff8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GetNumChannels</b> () const </td></tr>
<tr class="separator:ad9457b9b0872c932dbff31a2b46b6ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1298b403acfae69408f72b39b24c8df2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1298b403acfae69408f72b39b24c8df2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GetSize</b> () const </td></tr>
<tr class="separator:a1298b403acfae69408f72b39b24c8df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5147082815bc6b7d4781fe1f5e3611"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d5147082815bc6b7d4781fe1f5e3611"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsInput</b> () const </td></tr>
<tr class="separator:a1d5147082815bc6b7d4781fe1f5e3611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7d35185bb3591ac8286680b3f32b10"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e7d35185bb3591ac8286680b3f32b10"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsOutput</b> () const </td></tr>
<tr class="separator:a7e7d35185bb3591ac8286680b3f32b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c78b2be4b52565bb029687176d72c6b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c78b2be4b52565bb029687176d72c6b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GetGPUId</b> () const </td></tr>
<tr class="separator:a4c78b2be4b52565bb029687176d72c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86419707045d115ede5cf819db34087"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad86419707045d115ede5cf819db34087"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>AllocateMemoryOnOtherGPUs</b> ()</td></tr>
<tr class="separator:ad86419707045d115ede5cf819db34087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda84124b2209caf1a92f23eb860512b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acda84124b2209caf1a92f23eb860512b"></a>
<a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetOtherState</b> (int gpu_id)</td></tr>
<tr class="separator:acda84124b2209caf1a92f23eb860512b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93146ee6439b25cd3f25b21aa7b8e4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab93146ee6439b25cd3f25b21aa7b8e4b"></a>
<a class="el" href="classMatrix.html">Matrix</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetOtherDeriv</b> (int gpu_id)</td></tr>
<tr class="separator:ab93146ee6439b25cd3f25b21aa7b8e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a44efc72cfe1b453e13b8f14b84139"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5a44efc72cfe1b453e13b8f14b84139"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SyncIncomingState</b> ()</td></tr>
<tr class="separator:ac5a44efc72cfe1b453e13b8f14b84139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02601e9efb6d33443323e785dad213bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02601e9efb6d33443323e785dad213bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SyncOutgoingState</b> ()</td></tr>
<tr class="separator:a02601e9efb6d33443323e785dad213bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2be310807ff3d3166ca23c820b0f79cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2be310807ff3d3166ca23c820b0f79cb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SyncIncomingDeriv</b> ()</td></tr>
<tr class="separator:a2be310807ff3d3166ca23c820b0f79cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633c6592e243dcfb2e3a44e2a4da58db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a633c6592e243dcfb2e3a44e2a4da58db"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SyncOutgoingDeriv</b> ()</td></tr>
<tr class="separator:a633c6592e243dcfb2e3a44e2a4da58db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aeb3ea97dfd23bde39032315c129f4d5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb3ea97dfd23bde39032315c129f4d5d"></a>
static <a class="el" href="classLayer.html">Layer</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>ChooseLayerClass</b> (const config::Layer &amp;layer_config)</td></tr>
<tr class="separator:aeb3ea97dfd23bde39032315c129f4d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab85a9bc1f6ec00042e1d8e601f69c1ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab85a9bc1f6ec00042e1d8e601f69c1ab"></a>
vector&lt; <a class="el" href="classEdge.html">Edge</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>incoming_edge_</b></td></tr>
<tr class="separator:ab85a9bc1f6ec00042e1d8e601f69c1ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a246dd8e3c35c8eb8b885573e4aca9430"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a246dd8e3c35c8eb8b885573e4aca9430"></a>
vector&lt; <a class="el" href="classEdge.html">Edge</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>outgoing_edge_</b></td></tr>
<tr class="separator:a246dd8e3c35c8eb8b885573e4aca9430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4be44cb316a564464d87c87b4167df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a4be44cb316a564464d87c87b4167df"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>has_incoming_from_same_gpu_</b></td></tr>
<tr class="separator:a2a4be44cb316a564464d87c87b4167df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92bca79ebe1615d26f44b5eb1787957a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92bca79ebe1615d26f44b5eb1787957a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>has_outgoing_to_same_gpu_</b></td></tr>
<tr class="separator:a92bca79ebe1615d26f44b5eb1787957a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6957dcca0019e1fdd63d56ba4661c17"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab6957dcca0019e1fdd63d56ba4661c17"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>has_incoming_from_other_gpus_</b></td></tr>
<tr class="separator:ab6957dcca0019e1fdd63d56ba4661c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2978920c4caabde4d572012713d3f813"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2978920c4caabde4d572012713d3f813"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>has_outgoing_to_other_gpus_</b></td></tr>
<tr class="separator:a2978920c4caabde4d572012713d3f813"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a51a0f152982c8a0a761ca060f6b08f91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51a0f152982c8a0a761ca060f6b08f91"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ApplyDropoutAtTrainTime</b> ()</td></tr>
<tr class="separator:a51a0f152982c8a0a761ca060f6b08f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630bb8877f17429ad3872ef0a9dae31b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a630bb8877f17429ad3872ef0a9dae31b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ApplyDropoutAtTestTime</b> ()</td></tr>
<tr class="separator:a630bb8877f17429ad3872ef0a9dae31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:afb6eef1d8b0d248f90d1de036126a204"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afb6eef1d8b0d248f90d1de036126a204"></a>
const string&#160;</td><td class="memItemRight" valign="bottom"><b>name_</b></td></tr>
<tr class="separator:afb6eef1d8b0d248f90d1de036126a204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a80879f8098f43dc10c8f84287d8bd7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a80879f8098f43dc10c8f84287d8bd7"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>num_channels_</b></td></tr>
<tr class="separator:a2a80879f8098f43dc10c8f84287d8bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8cbaff0e36dc90883c653fdb4274dc4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8cbaff0e36dc90883c653fdb4274dc4"></a>
const bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_input_</b></td></tr>
<tr class="separator:af8cbaff0e36dc90883c653fdb4274dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaffe5f30c80047112a137add721fc2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afaffe5f30c80047112a137add721fc2c"></a>
const bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_output_</b></td></tr>
<tr class="separator:afaffe5f30c80047112a137add721fc2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31ad34a9a659ec826b8c0ece7bb0243b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31ad34a9a659ec826b8c0ece7bb0243b"></a>
const float&#160;</td><td class="memItemRight" valign="bottom"><b>dropprob_</b></td></tr>
<tr class="separator:a31ad34a9a659ec826b8c0ece7bb0243b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574fc7e77cff693bb108354f61949b06"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a574fc7e77cff693bb108354f61949b06"></a>
const bool&#160;</td><td class="memItemRight" valign="bottom"><b>display_</b></td></tr>
<tr class="separator:a574fc7e77cff693bb108354f61949b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcbef09868b059f2d26f3a8eb593043"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfcbef09868b059f2d26f3a8eb593043"></a>
const bool&#160;</td><td class="memItemRight" valign="bottom"><b>dropout_scale_up_at_train_time_</b></td></tr>
<tr class="separator:acfcbef09868b059f2d26f3a8eb593043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37bd6f63eb1e421b2560495051ba9d64"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37bd6f63eb1e421b2560495051ba9d64"></a>
const bool&#160;</td><td class="memItemRight" valign="bottom"><b>gaussian_dropout_</b></td></tr>
<tr class="separator:a37bd6f63eb1e421b2560495051ba9d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645c2d798010da21b8f4e7e3a70517d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a645c2d798010da21b8f4e7e3a70517d7"></a>
const float&#160;</td><td class="memItemRight" valign="bottom"><b>max_act_gaussian_dropout_</b></td></tr>
<tr class="separator:a645c2d798010da21b8f4e7e3a70517d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad70f1bfb8df3bebfe927618aae08eb8f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad70f1bfb8df3bebfe927618aae08eb8f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>scale_targets_</b></td></tr>
<tr class="separator:ad70f1bfb8df3bebfe927618aae08eb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e768dbe6dcee7b4a8f75737a9c3b2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32e768dbe6dcee7b4a8f75737a9c3b2c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>image_size_</b></td></tr>
<tr class="separator:a32e768dbe6dcee7b4a8f75737a9c3b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a204f9dd7538928accf45d37a3a0c30a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a204f9dd7538928accf45d37a3a0c30a3"></a>
<a class="el" href="classMatrix.html">Matrix</a>&#160;</td><td class="memItemRight" valign="bottom"><b>state_</b></td></tr>
<tr class="separator:a204f9dd7538928accf45d37a3a0c30a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb100825a2187c847a07a7a621ffcfd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix.html">Matrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#acb100825a2187c847a07a7a621ffcfd0">deriv_</a></td></tr>
<tr class="memdesc:acb100825a2187c847a07a7a621ffcfd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">State (activation) of the layer.  <a href="#acb100825a2187c847a07a7a621ffcfd0">More...</a><br /></td></tr>
<tr class="separator:acb100825a2187c847a07a7a621ffcfd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6286dc480b66529ae9435ef0427c0713"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix.html">Matrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a6286dc480b66529ae9435ef0427c0713">data_</a></td></tr>
<tr class="memdesc:a6286dc480b66529ae9435ef0427c0713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deriv of the loss function w.r.t.  <a href="#a6286dc480b66529ae9435ef0427c0713">More...</a><br /></td></tr>
<tr class="separator:a6286dc480b66529ae9435ef0427c0713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f399ece6efb808caf36cb61d8e2d4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrix.html">Matrix</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a23f399ece6efb808caf36cb61d8e2d4c">rand_gaussian_</a></td></tr>
<tr class="memdesc:a23f399ece6efb808caf36cb61d8e2d4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data (targets) associated with this layer.  <a href="#a23f399ece6efb808caf36cb61d8e2d4c">More...</a><br /></td></tr>
<tr class="separator:a23f399ece6efb808caf36cb61d8e2d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ced18e81ae35e69cb7058c9e0cb290"><td class="memItemLeft" align="right" valign="top">map&lt; int, <a class="el" href="classMatrix.html">Matrix</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#af9ced18e81ae35e69cb7058c9e0cb290">other_states_</a></td></tr>
<tr class="memdesc:af9ced18e81ae35e69cb7058c9e0cb290"><td class="mdescLeft">&#160;</td><td class="mdescRight">Need to store random variates when doing gaussian dropout.  <a href="#af9ced18e81ae35e69cb7058c9e0cb290">More...</a><br /></td></tr>
<tr class="separator:af9ced18e81ae35e69cb7058c9e0cb290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dae3436dd8e32dafd1e579b7626502d"><td class="memItemLeft" align="right" valign="top">map&lt; int, <a class="el" href="classMatrix.html">Matrix</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#a4dae3436dd8e32dafd1e579b7626502d">other_derivs_</a></td></tr>
<tr class="memdesc:a4dae3436dd8e32dafd1e579b7626502d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies of this layer's state on other gpus.  <a href="#a4dae3436dd8e32dafd1e579b7626502d">More...</a><br /></td></tr>
<tr class="separator:a4dae3436dd8e32dafd1e579b7626502d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e4370bf21dc6bcd578610f23900dc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classImageDisplayer.html">ImageDisplayer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLayer.html#ab6e4370bf21dc6bcd578610f23900dc4">img_display_</a></td></tr>
<tr class="memdesc:ab6e4370bf21dc6bcd578610f23900dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies of this layer's deriv on other gpus.  <a href="#ab6e4370bf21dc6bcd578610f23900dc4">More...</a><br /></td></tr>
<tr class="separator:ab6e4370bf21dc6bcd578610f23900dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7fa968bd9047e34fa5456b79eea95c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d7fa968bd9047e34fa5456b79eea95c"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>gpu_id_</b></td></tr>
<tr class="separator:a7d7fa968bd9047e34fa5456b79eea95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45afd3e04cf09a2cca373652f23d9e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa45afd3e04cf09a2cca373652f23d9e7"></a>
set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>other_incoming_gpu_ids_</b></td></tr>
<tr class="separator:aa45afd3e04cf09a2cca373652f23d9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79114ff4972822039920663ae731ce2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79114ff4972822039920663ae731ce2e"></a>
set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>other_outgoing_gpu_ids_</b></td></tr>
<tr class="separator:a79114ff4972822039920663ae731ce2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The base class for all layers. </p>
<p>Each layer has a state_ and deriv_. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3f1aa6409f9dccd2a91c57ae011e52c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Layer::Layer </td>
          <td>(</td>
          <td class="paramtype">const config::Layer &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instantiate a layer from config. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a02dafb94dcfc454e1bc7771df7c17e63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Layer::AddIncoming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEdge.html">Edge</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an incoming edge to this layer. </p>

</div>
</div>
<a class="anchor" id="a621f3815368d1146eb2cd1869e129521"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Layer::AddOutgoing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEdge.html">Edge</a> *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an outgoing edge from this layer. </p>

</div>
</div>
<a class="anchor" id="a6374c4746482820b10b2c00a68c98f3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Layer::AllocateMemory </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>imgsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate memory for storing the state and derivative at this layer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imgsize</td><td>The spatial size of the layer (width and height). </td></tr>
    <tr><td class="paramname">batch_size</td><td>The mini-batch size. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classLogisticLayer.html#a13f3cf9acdd8d7fc06a0c74df93f108c">LogisticLayer</a>, <a class="el" href="classSoftmaxDistLayer.html#a9a197480e9860e95c9ac7db71d2f6649">SoftmaxDistLayer</a>, <a class="el" href="classSoftmaxLayer.html#a77227306c31026d27a6a7c3709e1f546">SoftmaxLayer</a>, and <a class="el" href="classLinearLayer.html#a4e44c26e6da4d37ac0edf945d7a16146">LinearLayer</a>.</p>

</div>
</div>
<a class="anchor" id="a0da18813ed5e0ac4e5111de5a9256a0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Layer::ApplyActivation </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>train</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply the activation function. </p>
<p>Derived classes must implement this. This method applies the activation function to the state_ and overwrites it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">train</td><td>If true, use dropout. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classLogisticLayer.html#a43f8b4c1db15a7ec1a2feb49fd49ec17">LogisticLayer</a>, <a class="el" href="classSoftmaxLayer.html#aba1d5607eafcfc70186fd7a301ea6364">SoftmaxLayer</a>, <a class="el" href="classReLULayer.html#abc06132feaf7eb4b1eacd812f263a566">ReLULayer</a>, and <a class="el" href="classLinearLayer.html#a143b4df134b9df7b3a56c78c4a1ce708">LinearLayer</a>.</p>

</div>
</div>
<a class="anchor" id="ad160cbfae07605b2c908e86cc33444a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Layer::ApplyDerivativeOfActivation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply the derivative of the activation. </p>
<p>Derived classes must implement this. Computes the derivative w.r.t the inputs to this layer from the derivative w.r.t the outputs of this layer. Applies the derivative of the activation function to deriv_ and overwrites it. </p>

<p>Implemented in <a class="el" href="classLogisticLayer.html#aa32a94986712bccc8ccb135f4711d494">LogisticLayer</a>, <a class="el" href="classSoftmaxLayer.html#a173b8904f9abc589b60031c3464c3b08">SoftmaxLayer</a>, <a class="el" href="classReLULayer.html#ab1f259fcf5d0c6aa2beccde84450782b">ReLULayer</a>, and <a class="el" href="classLinearLayer.html#a53ff20c82bf7de8b33a07663c7c76404">LinearLayer</a>.</p>

</div>
</div>
<a class="anchor" id="aa7504a69d40d83850418bac12d8908c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Layer::ApplyDerivativeofDropout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply derivative of dropout. </p>
<p>This method scales the derivative to compensate for dropout. </p>

</div>
</div>
<a class="anchor" id="acb724a0ce50186c378a4a20c5d0f8629"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Layer::ApplyDropout </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>train</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply dropout to this layer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">train</td><td>If train is true, drop units stochastically, else use all the units. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe3aeb2e8c83dca546253e9c87f950d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Layer::ComputeDeriv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute derivative of loss function. </p>
<p>This is applicable only if this layer is an output layer. </p>

<p>Implemented in <a class="el" href="classLogisticLayer.html#af5bc5adf0a1cb622fe9793a87ddd0c39">LogisticLayer</a>, <a class="el" href="classSoftmaxDistLayer.html#a42e49c9211107492a6294dba0694ff8d">SoftmaxDistLayer</a>, <a class="el" href="classSoftmaxLayer.html#a3e144cf96e54d722833a4d3e0a947173">SoftmaxLayer</a>, and <a class="el" href="classLinearLayer.html#afef2b24b5d0e305351c73c7eda630273">LinearLayer</a>.</p>

</div>
</div>
<a class="anchor" id="a2c33d8784bf6a213cb8dbe9269cef213"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix.html">Matrix</a>&amp; Layer::GetData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to the data at this layer. </p>

</div>
</div>
<a class="anchor" id="a2cedc2d2f67df3e7011adeb8eeed7516"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix.html">Matrix</a>&amp; Layer::GetDeriv </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to the deriv at this layer. </p>

</div>
</div>
<a class="anchor" id="a9f2666b65b7f87761eda1c31f9a8205a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEdge.html">Edge</a>* Layer::GetIncomingEdge </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the incoming edge by index. </p>

</div>
</div>
<a class="anchor" id="ae4e0af00ad9c9c31e4670845be898e22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual float Layer::GetLoss </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the value of the loss function that is displayed during training. </p>
<p>This is applicable only if this layer is an output layer. </p>

<p>Implemented in <a class="el" href="classLogisticLayer.html#a82007faa4a99d516f0a3f6db899a9964">LogisticLayer</a>, <a class="el" href="classSoftmaxDistLayer.html#a12f2382706a90d2f87f13fb763c91d91">SoftmaxDistLayer</a>, <a class="el" href="classSoftmaxLayer.html#a85fd73f5a02e52358e6f93c755a835c8">SoftmaxLayer</a>, and <a class="el" href="classLinearLayer.html#ae73b0007f92660164da2c35dc66a9f25">LinearLayer</a>.</p>

</div>
</div>
<a class="anchor" id="ae0f832bc6eea199499a0f03b4a27a03c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float Layer::GetLoss2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the value of the actual loss function. </p>
<p>This is applicable only if this layer is an output layer. </p>

<p>Reimplemented in <a class="el" href="classSoftmaxLayer.html#ad98dbda0f34120d93f3a8b75ac529272">SoftmaxLayer</a>.</p>

</div>
</div>
<a class="anchor" id="aa56bf8224bdb28fcfe2ded6984513a54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix.html">Matrix</a>&amp; Layer::GetState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to the state of the layer. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6286dc480b66529ae9435ef0427c0713"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix.html">Matrix</a> Layer::data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deriv of the loss function w.r.t. </p>
<p>the state. </p>

</div>
</div>
<a class="anchor" id="acb100825a2187c847a07a7a621ffcfd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix.html">Matrix</a> Layer::deriv_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State (activation) of the layer. </p>

</div>
</div>
<a class="anchor" id="ab6e4370bf21dc6bcd578610f23900dc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classImageDisplayer.html">ImageDisplayer</a>* Layer::img_display_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies of this layer's deriv on other gpus. </p>

</div>
</div>
<a class="anchor" id="a4dae3436dd8e32dafd1e579b7626502d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">map&lt;int, <a class="el" href="classMatrix.html">Matrix</a>&gt; Layer::other_derivs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies of this layer's state on other gpus. </p>

</div>
</div>
<a class="anchor" id="af9ced18e81ae35e69cb7058c9e0cb290"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">map&lt;int, <a class="el" href="classMatrix.html">Matrix</a>&gt; Layer::other_states_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Need to store random variates when doing gaussian dropout. </p>

</div>
</div>
<a class="anchor" id="a23f399ece6efb808caf36cb61d8e2d4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrix.html">Matrix</a> Layer::rand_gaussian_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data (targets) associated with this layer. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="layer_8h_source.html">layer.h</a></li>
<li>src/layer.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 22 2014 09:56:05 for ConvNet by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
